import uasyncio
from webduino.webbit import WebBit

async def main():
    # 建立 WebBit 實例，不使用 MQTT
    wbit = WebBit(mqtt=False)

    # ------------------------------------------------------------------------------
    # 設定 pin1 高電位
    # ------------------------------------------------------------------------------
    # 使用 setPin(pinNum, state) 方法：
    #   - pinNum: 要控制的腳位編號，本例為 1
    #   - state: 布林值，True 表示輸出高電位（3.3V），False 表示輸出低電位（0V）
    wbit.setPin(1, False)    # 將腳位 1 設為高電位

    # ------------------------------------------------------------------------------
    # 進入永遠迴圈，保持程式持續運行
    # ------------------------------------------------------------------------------
    # 由於本範例不使用 MQTT，不需檢查訊息
    # 但為了讓事件迴圈不中斷，仍需呼叫 sleep_ms
    while True:
        # 每秒延遲，避免阻塞 CPU
        await uasyncio.sleep_ms(1000)

# 啟動 asyncio 事件迴圈，執行 main 協程
uasyncio.run(main())
