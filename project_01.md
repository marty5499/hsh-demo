# 專案一：MQTT 超音波距離偵測系統

## 專案概述
本專案是一個基於 web:bit 的物聯網系統，整合超音波感測器進行距離偵測，並透過 MQTT 協定將數據傳送到網頁進行即時顯示，同時控制伺服馬達進行相應動作。

## 系統架構
```
網頁介面 ←→ MQTT Broker ←→ web:bit + 感測器
```

### MQTT 通訊設定
- **主題 (Topic)**: `yyy/distance`
- **協定**: MQTT
- **數據流向**: 雙向通訊

## 硬體組件

### 1. 主控板
- **設備**: web:bit v2
- **功能**: 主要控制單元，處理感測器數據並進行 MQTT 通訊

### 2. 超音波感測器 (HC-SR04)
- **型號**: HC-SR04
- **腳位配置**:
  - `pin1` = trig (觸發腳)
  - `pin2` = echo (回音腳)
- **功能**: 測量距離並回傳數據

### 3. 伺服馬達
- **腳位配置**: `pin9`
- **功能**: 根據距離數據進行相應的轉動動作

## 軟體組件

### 1. test.html
- **功能**: 網頁介面，顯示超音波偵測到的距離數據
- **特色**: 即時顯示距離資訊
- **技術**: HTML + JavaScript + MQTT 客戶端

### 2. test.py
- **功能**: micro:bit 端的主程式
- **主要任務**:
  - 偵測超音波距離
  - 透過 MQTT 發送距離數據
  - 控制伺服馬達轉動
- **語言**: MicroPython

## 工作流程

1. **距離偵測**: 超音波感測器持續偵測前方障礙物距離
2. **數據處理**: micro:bit 處理感測器回傳的距離數據
3. **MQTT 傳輸**: 將距離數據透過 MQTT 協定發送到 Broker
4. **網頁顯示**: 網頁介面訂閱 MQTT 主題，即時顯示距離資訊
5. **馬達控制**: 根據距離數據控制伺服馬達進行相應動作

